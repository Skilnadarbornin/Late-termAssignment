
apply plugin: 'java'
apply plugin: 'application'

jar {
    manifest {
        attributes 'Main-Class': 'is.ru.tictactoe.Game'
    }
}

repositories{
	jcenter()
}

sourceSets{ 
	selenium
	seleniumXvfb
}

dependencies {
    compile 'org.slf4j:slf4j-api:1.7.5'
    compile  'junit:junit:4.11'
   
    compile 'org.hamcrest:hamcrest-core:1.3'
    compile 'com.sparkjava:spark-core:1.1.1'
    testCompile 'junit:junit:4.11'
    
    seleniumXvfbCompile 'junit:junit:4.11'
    seleniumXvfbCompile 'org.seleniumhq.selenium:selenium-java:2.39.0'
}

mainClassName = "is.ru.tictactoe.GameWeb"

task selenium(type: Test, dependsOn: installApp) {
    testClassesDir = sourceSets.selenium.output.classesDir
    classpath = sourceSets.selenium.runtimeClasspath
}

task seleniumXvfb(type: Test, dependsOn: installApp) {
    testClassesDir = sourceSets.selenium.output.classesDir
    classpath = sourceSets.selenium.runtimeClasspath
}

task stage { 
	dependsOn installApp 
}
